"use strict";(globalThis.webpackChunk_54vie_cookbooks=globalThis.webpackChunk_54vie_cookbooks||[]).push([[195],{5463(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>a,frontMatter:()=>t,metadata:()=>d,toc:()=>h});const d=JSON.parse('{"id":"api/miniapp-sdk/bridge","title":"Bridge API","description":"Low-level bridge communication between mini-apps and the host app","source":"@site/docs/api/miniapp-sdk/bridge.md","sourceDirName":"api/miniapp-sdk","slug":"/api/miniapp-sdk/bridge","permalink":"/api/miniapp-sdk/bridge","draft":false,"unlisted":false,"editUrl":"https://github.com/54vie/super-app/tree/main/cookbooks/docs/api/miniapp-sdk/bridge.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Bridge API","sidebar_position":3,"description":"Low-level bridge communication between mini-apps and the host app"},"sidebar":"apiSidebar","previous":{"title":"Services API","permalink":"/api/miniapp-sdk/services"}}');var i=s(5178),r=s(8145);const t={title:"Bridge API",sidebar_position:3,description:"Low-level bridge communication between mini-apps and the host app"},c="Bridge API",l={},h=[{value:"Architecture Overview",id:"architecture-overview",level:2},{value:"Bridge (SDK Side)",id:"bridge-sdk-side",level:2},{value:"TypeScript Interface",id:"typescript-interface",level:3},{value:"Example Usage",id:"example-usage",level:3},{value:"ServiceRouter (Runtime Side)",id:"servicerouter-runtime-side",level:2},{value:"TypeScript Interface",id:"typescript-interface-1",level:3},{value:"Example: Registering Service Handlers",id:"example-registering-service-handlers",level:3},{value:"Request/Response Format",id:"requestresponse-format",level:2},{value:"Request Format",id:"request-format",level:3},{value:"Response Format",id:"response-format",level:3},{value:"Event Format",id:"event-format",level:3},{value:"Available Bridge Methods",id:"available-bridge-methods",level:2},{value:"Authentication (<code>auth.*</code>)",id:"authentication-auth",level:3},{value:"Wallet (<code>wallet.*</code>)",id:"wallet-wallet",level:3},{value:"Storage (<code>storage.*</code>)",id:"storage-storage",level:3},{value:"Navigation (<code>navigation.*</code>)",id:"navigation-navigation",level:3},{value:"UI (<code>ui.*</code>)",id:"ui-ui",level:3},{value:"Device (<code>device.*</code>)",id:"device-device",level:3},{value:"Network (<code>network.*</code>)",id:"network-network",level:3},{value:"Push Notifications (<code>push.*</code>)",id:"push-notifications-push",level:3},{value:"Analytics (<code>analytics.*</code>)",id:"analytics-analytics",level:3},{value:"Media (<code>media.*</code>)",id:"media-media",level:3},{value:"Location (<code>location.*</code>)",id:"location-location",level:3},{value:"Share (<code>share.*</code>)",id:"share-share",level:3},{value:"Biometric (<code>biometric.*</code>)",id:"biometric-biometric",level:3},{value:"API Proxy (<code>api.*</code>)",id:"api-proxy-api",level:3},{value:"Lifecycle (<code>lifecycle.*</code>)",id:"lifecycle-lifecycle",level:3},{value:"Error Codes",id:"error-codes",level:2},{value:"Best Practices",id:"best-practices",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"bridge-api",children:"Bridge API"})}),"\n",(0,i.jsx)(n.p,{children:"The bridge is the communication layer between mini-apps (running in WebViews/JS containers) and the host app (React Native). It handles request/response messaging, event subscriptions, and service routing."}),"\n",(0,i.jsx)(n.h2,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         Mini-App (SDK)                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502   Hooks     \u2502  \u2502  Services   \u2502  \u2502     Components          \u2502 \u2502\n\u2502  \u2502 useHostAuth \u2502  \u2502   storage   \u2502  \u2502    PaymentButton        \u2502 \u2502\n\u2502  \u2502 useHostPush \u2502  \u2502    push     \u2502  \u2502    ShareButton          \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502         \u2502                \u2502                     \u2502                \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                \u2502\n\u2502                          \u25bc                                      \u2502\n\u2502                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                              \u2502\n\u2502                    \u2502   Bridge    \u2502                              \u2502\n\u2502                    \u2502  (SDK side) \u2502                              \u2502\n\u2502                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518                              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                            \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502 Native Bridge \u2502\n                    \u2502 (postMessage) \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                            \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                           \u25bc                                     \u2502\n\u2502                  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                             \u2502\n\u2502                  \u2502 ServiceRouter  \u2502                             \u2502\n\u2502                  \u2502 (Runtime side) \u2502                             \u2502\n\u2502                  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                             \u2502\n\u2502                          \u2502                                      \u2502\n\u2502     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                 \u2502\n\u2502     \u25bc                    \u25bc                    \u25bc                 \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510         \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510            \u2502\n\u2502 \u2502  Auth  \u2502         \u2502 Storage  \u2502        \u2502   Push   \u2502            \u2502\n\u2502 \u2502Handler \u2502         \u2502 Handler  \u2502        \u2502 Handler  \u2502            \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518            \u2502\n\u2502                                                                 \u2502\n\u2502                    Host App (Runtime)                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(n.h2,{id:"bridge-sdk-side",children:"Bridge (SDK Side)"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"Bridge"})," class manages communication from the mini-app to the host."]}),"\n",(0,i.jsx)(n.h3,{id:"typescript-interface",children:"TypeScript Interface"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"type BridgeMessageType = 'request' | 'response' | 'event';\n\ninterface BridgeMessage {\n  /** Unique message identifier */\n  id: string;\n  /** Message type */\n  type: BridgeMessageType;\n  /** Action/method name (e.g., 'storage.get') */\n  action: string;\n  /** Message payload */\n  payload?: unknown;\n  /** Timestamp when message was created */\n  timestamp: number;\n}\n\ninterface BridgeRequest extends BridgeMessage {\n  type: 'request';\n}\n\ninterface BridgeResponse extends BridgeMessage {\n  type: 'response';\n  /** Whether the request succeeded */\n  success: boolean;\n  /** Response data (if success) */\n  data?: unknown;\n  /** Error message (if failed) */\n  error?: string;\n}\n\ninterface BridgeEvent extends BridgeMessage {\n  type: 'event';\n}\n\ninterface Bridge {\n  /**\n   * Initialize the bridge with mini-app ID\n   */\n  initialize(appId: string): void;\n\n  /**\n   * Wait for bridge to be ready\n   */\n  waitForReady(): Promise<void>;\n\n  /**\n   * Send a request and wait for response\n   * @param action - The action name (e.g., 'storage.get')\n   * @param payload - Request payload\n   * @returns Promise resolving to response data\n   */\n  send<T = unknown>(action: string, payload?: unknown): Promise<T>;\n\n  /**\n   * Subscribe to events from the host\n   * @param eventName - Event to listen for\n   * @param callback - Handler function\n   * @returns Unsubscribe function\n   */\n  on(eventName: string, callback: (event: BridgeEvent) => void): () => void;\n\n  /**\n   * Emit a one-way event (no response expected)\n   * @param action - Event action name\n   * @param payload - Event payload\n   */\n  emit(action: string, payload?: unknown): void;\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-usage",children:"Example Usage"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { bridge } from '@54vie/miniapp-sdk/bridge';\n\n// Initialize bridge (usually done by MiniAppRoot)\nbridge.initialize('com.example.myapp');\n\n// Wait for bridge to be ready\nawait bridge.waitForReady();\n\n// Send request and get response\nconst user = await bridge.send<User>('auth.getUser');\nconsole.log('User:', user);\n\n// Send request with payload\nconst value = await bridge.send<string>('storage.get', { key: 'theme' });\n\n// Listen for events from host\nconst unsubscribe = bridge.on('lifecycle.suspend', (event) => {\n  console.log('App suspended at:', event.timestamp);\n  saveState();\n});\n\n// Emit event (fire-and-forget)\nbridge.emit('analytics.track', {\n  eventName: 'button_clicked',\n  properties: { button: 'submit' },\n});\n\n// Cleanup\nunsubscribe();\n"})}),"\n",(0,i.jsx)(n.h2,{id:"servicerouter-runtime-side",children:"ServiceRouter (Runtime Side)"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"ServiceRouter"})," routes incoming bridge requests to appropriate service handlers in the host app."]}),"\n",(0,i.jsx)(n.h3,{id:"typescript-interface-1",children:"TypeScript Interface"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"type ServiceCategory =\n  | 'auth'\n  | 'wallet'\n  | 'ui'\n  | 'navigation'\n  | 'storage'\n  | 'media'\n  | 'location'\n  | 'share'\n  | 'analytics'\n  | 'host'\n  | 'device'\n  | 'network'\n  | 'haptics'\n  | 'clipboard'\n  | 'push'\n  | 'biometric'\n  | 'api';\n\ninterface BridgeRequest {\n  /** Unique request identifier */\n  id: string;\n  /** Mini-app ID making the request */\n  appId: string;\n  /** Method name (e.g., 'storage.get') */\n  method: string;\n  /** Request parameters */\n  params?: Record<string, unknown>;\n  /** Request timestamp */\n  timestamp: number;\n}\n\ninterface BridgeResponse {\n  /** Request ID this responds to */\n  id: string;\n  /** Whether request succeeded */\n  success: boolean;\n  /** Response data */\n  data?: unknown;\n  /** Error details */\n  error?: {\n    code: string;\n    message: string;\n    details?: unknown;\n  };\n}\n\ninterface BridgeError {\n  code: string;\n  message: string;\n  details?: unknown;\n}\n\ntype BridgeHandler = (\n  params: Record<string, unknown>,\n  request?: BridgeRequest\n) => Promise<unknown>;\n\ninterface ServiceHandler {\n  category: ServiceCategory;\n  methods: Record<string, BridgeHandler>;\n}\n\ninterface ServiceRouter {\n  /**\n   * Register a service handler\n   */\n  registerService(handler: ServiceHandler): void;\n\n  /**\n   * Register methods for a category\n   */\n  register(category: ServiceCategory, methods: Record<string, BridgeHandler>): void;\n\n  /**\n   * Unregister a service\n   */\n  unregisterService(category: ServiceCategory): void;\n\n  /**\n   * Route a request to appropriate handler\n   */\n  route(request: BridgeRequest): Promise<BridgeResponse>;\n\n  /**\n   * Get all registered service categories\n   */\n  getRegisteredServices(): ServiceCategory[];\n\n  /**\n   * Get all registered method names\n   */\n  getRegisteredMethods(): string[];\n\n  /**\n   * Check if a method is registered\n   */\n  hasMethod(method: string): boolean;\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"example-registering-service-handlers",children:"Example: Registering Service Handlers"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { serviceRouter } from '@54vie/miniapp-runtime';\n\n// Register storage service\nserviceRouter.register('storage', {\n  async get(params) {\n    const { key, scope } = params as { key: string; scope: string };\n    return AsyncStorage.getItem(`${scope}:${key}`);\n  },\n\n  async set(params) {\n    const { key, value, scope } = params as { key: string; value: unknown; scope: string };\n    await AsyncStorage.setItem(`${scope}:${key}`, JSON.stringify(value));\n  },\n\n  async remove(params) {\n    const { key, scope } = params as { key: string; scope: string };\n    await AsyncStorage.removeItem(`${scope}:${key}`);\n  },\n\n  async clear(params) {\n    const { scope } = params as { scope: string };\n    const keys = await AsyncStorage.getAllKeys();\n    const scopedKeys = keys.filter(k => k.startsWith(`${scope}:`));\n    await AsyncStorage.multiRemove(scopedKeys);\n  },\n});\n\n// Register auth service\nserviceRouter.register('auth', {\n  async getUser(params, request) {\n    // request contains appId for permission checking\n    const user = await authStore.getUser();\n    return {\n      id: user.id,\n      name: user.name,\n      avatar: user.avatar,\n    };\n  },\n\n  async getAccessToken() {\n    return authStore.getAccessToken();\n  },\n\n  async isAuthenticated() {\n    return authStore.isAuthenticated();\n  },\n});\n\n// Register using ServiceHandler object\nserviceRouter.registerService({\n  category: 'push',\n  methods: {\n    async getToken() {\n      return messaging().getToken();\n    },\n    async hasPermission() {\n      const status = await messaging().hasPermission();\n      return status === messaging.AuthorizationStatus.AUTHORIZED;\n    },\n    async requestPermission() {\n      const status = await messaging().requestPermission();\n      return status === messaging.AuthorizationStatus.AUTHORIZED;\n    },\n  },\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"requestresponse-format",children:"Request/Response Format"}),"\n",(0,i.jsx)(n.h3,{id:"request-format",children:"Request Format"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// Request sent from mini-app to host\n{\n  id: "com.example.app-1-1706601234567",\n  type: "request",\n  action: "storage.get",\n  payload: {\n    appId: "com.example.app",\n    key: "user_preferences"\n  },\n  timestamp: 1706601234567\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"response-format",children:"Response Format"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// Successful response\n{\n  id: "com.example.app-1-1706601234567",\n  type: "response",\n  success: true,\n  data: {\n    theme: "dark",\n    language: "vi"\n  },\n  timestamp: 1706601234600\n}\n\n// Error response\n{\n  id: "com.example.app-1-1706601234567",\n  type: "response",\n  success: false,\n  error: {\n    code: "PERMISSION_DENIED",\n    message: "Storage permission not granted"\n  },\n  timestamp: 1706601234600\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"event-format",children:"Event Format"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// Event from mini-app to host (fire-and-forget)\n{\n  id: "com.example.app-2-1706601235000",\n  type: "event",\n  action: "analytics.track",\n  payload: {\n    appId: "com.example.app",\n    eventName: "purchase_completed",\n    properties: {\n      orderId: "ORD-123",\n      amount: 500000\n    }\n  },\n  timestamp: 1706601235000\n}\n\n// Event from host to mini-app\n{\n  id: "host-event-1706601236000",\n  type: "event",\n  action: "lifecycle.suspend",\n  payload: {\n    reason: "app_backgrounded"\n  },\n  timestamp: 1706601236000\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"available-bridge-methods",children:"Available Bridge Methods"}),"\n",(0,i.jsxs)(n.h3,{id:"authentication-auth",children:["Authentication (",(0,i.jsx)(n.code,{children:"auth.*"}),")"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Parameters"}),(0,i.jsx)(n.th,{children:"Returns"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"auth.getUser"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"User"})}),(0,i.jsx)(n.td,{children:"Get current user"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"auth.getAccessToken"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Get JWT token"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"auth.isAuthenticated"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Check auth status"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"auth.requestLogin"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Request user login"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"auth.checkPermission"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ permission }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Check if permission granted"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"auth.requestPermission"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ permission, reason? }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Request permission"})]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"wallet-wallet",children:["Wallet (",(0,i.jsx)(n.code,{children:"wallet.*"}),")"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Parameters"}),(0,i.jsx)(n.th,{children:"Returns"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"wallet.getBalance"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Get wallet balance"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"wallet.requestPayment"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ amount, description, orderId?, metadata? }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PaymentResult"})}),(0,i.jsx)(n.td,{children:"Request payment"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"wallet.checkTransaction"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ transactionId }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Transaction"})}),(0,i.jsx)(n.td,{children:"Check transaction status"})]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"storage-storage",children:["Storage (",(0,i.jsx)(n.code,{children:"storage.*"}),")"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Parameters"}),(0,i.jsx)(n.th,{children:"Returns"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"storage.get"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ key, scope }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"T | null"})}),(0,i.jsx)(n.td,{children:"Get stored value"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"storage.set"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ key, value, scope }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Set value"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"storage.remove"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ key, scope }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Remove value"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"storage.clear"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ scope }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Clear all storage"})]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"navigation-navigation",children:["Navigation (",(0,i.jsx)(n.code,{children:"navigation.*"}),")"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Parameters"}),(0,i.jsx)(n.th,{children:"Returns"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"navigation.goBack"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Go back"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"navigation.navigate"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ route, params? }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Navigate to route"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"navigation.setTitle"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ title }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Set screen title"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"navigation.setOptions"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ options }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Set nav options"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"navigation.openMiniApp"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ appId, params? }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Open another mini-app"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"navigation.openDeepLink"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ url }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Open deep link"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"navigation.exitMiniApp"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Exit mini-app"})]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"ui-ui",children:["UI (",(0,i.jsx)(n.code,{children:"ui.*"}),")"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Parameters"}),(0,i.jsx)(n.th,{children:"Returns"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ui.showToast"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ message, type?, duration? }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Show toast"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ui.showAlert"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ title, message, confirmText?, cancelText? }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Show alert dialog"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ui.showActionSheet"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ title?, options, cancelIndex? }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Show action sheet"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ui.showLoading"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Show loading overlay"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ui.hideLoading"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Hide loading overlay"})]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"device-device",children:["Device (",(0,i.jsx)(n.code,{children:"device.*"}),")"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Parameters"}),(0,i.jsx)(n.th,{children:"Returns"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"device.getInfo"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"DeviceInfo"})}),(0,i.jsx)(n.td,{children:"Get device info"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"device.getDeviceId"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Get device ID"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"device.getAppVersion"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Get app version"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"device.getBuildNumber"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Get build number"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"device.isEmulator"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Check if emulator"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"device.getCarrier"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string | null"})}),(0,i.jsx)(n.td,{children:"Get carrier name"})]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"network-network",children:["Network (",(0,i.jsx)(n.code,{children:"network.*"}),")"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Parameters"}),(0,i.jsx)(n.th,{children:"Returns"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"network.getState"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"NetworkState"})}),(0,i.jsx)(n.td,{children:"Get network state"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"network.isOnline"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Check if online"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"network.getConnectionType"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ConnectionType"})}),(0,i.jsx)(n.td,{children:"Get connection type"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"network.isWifi"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Check if WiFi"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"network.isCellular"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Check if cellular"})]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"push-notifications-push",children:["Push Notifications (",(0,i.jsx)(n.code,{children:"push.*"}),")"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Parameters"}),(0,i.jsx)(n.th,{children:"Returns"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"push.getToken"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string | null"})}),(0,i.jsx)(n.td,{children:"Get FCM/APNs token"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"push.hasPermission"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Check permission"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"push.requestPermission"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Request permission"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"push.subscribeToTopic"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ topic }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Subscribe to topic"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"push.unsubscribeFromTopic"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ topic }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Unsubscribe from topic"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"push.scheduleNotification"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ notification }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Schedule notification"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"push.cancelNotification"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ notificationId }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Cancel notification"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"push.getBadgeCount"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Get badge count"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"push.setBadgeCount"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ count }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Set badge count"})]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"analytics-analytics",children:["Analytics (",(0,i.jsx)(n.code,{children:"analytics.*"}),")"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Parameters"}),(0,i.jsx)(n.th,{children:"Returns"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"analytics.track"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ eventName, properties? }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Track event"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"analytics.screen"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ screenName }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Track screen view"})]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"media-media",children:["Media (",(0,i.jsx)(n.code,{children:"media.*"}),")"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Parameters"}),(0,i.jsx)(n.th,{children:"Returns"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"media.takePhoto"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ options? }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"MediaAsset"})}),(0,i.jsx)(n.td,{children:"Take photo"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"media.recordVideo"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ options? }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"MediaAsset"})}),(0,i.jsx)(n.td,{children:"Record video"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"media.pickImage"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ options? }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"MediaAsset"})}),(0,i.jsx)(n.td,{children:"Pick from gallery"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"media.pickMultipleImages"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ options? }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"MediaAsset[]"})}),(0,i.jsx)(n.td,{children:"Pick multiple"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"media.pickVideo"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"MediaAsset"})}),(0,i.jsx)(n.td,{children:"Pick video"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"media.resizeImage"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ uri, options }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"MediaAsset"})}),(0,i.jsx)(n.td,{children:"Resize image"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"media.compressImage"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ uri, quality }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"MediaAsset"})}),(0,i.jsx)(n.td,{children:"Compress image"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"media.cropImage"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ uri, options }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"MediaAsset"})}),(0,i.jsx)(n.td,{children:"Crop image"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"media.scanQR"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Scan QR code"})]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"location-location",children:["Location (",(0,i.jsx)(n.code,{children:"location.*"}),")"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Parameters"}),(0,i.jsx)(n.th,{children:"Returns"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"location.getCurrentPosition"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ options? }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Location"})}),(0,i.jsx)(n.td,{children:"Get current location"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"location.checkPermission"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PermissionStatus"})}),(0,i.jsx)(n.td,{children:"Check permission"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"location.requestPermission"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PermissionStatus"})}),(0,i.jsx)(n.td,{children:"Request permission"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"location.geocode"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ address }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Location"})}),(0,i.jsx)(n.td,{children:"Address to coordinates"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"location.reverseGeocode"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ latitude, longitude }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Address"})}),(0,i.jsx)(n.td,{children:"Coordinates to address"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"location.searchPlaces"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ query, location? }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PlaceResult[]"})}),(0,i.jsx)(n.td,{children:"Search places"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"location.watchPosition"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ callback }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Watch position"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"location.stopWatchPosition"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Stop watching"})]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"share-share",children:["Share (",(0,i.jsx)(n.code,{children:"share.*"}),")"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Parameters"}),(0,i.jsx)(n.th,{children:"Returns"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"share.text"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ text }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Share text"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"share.image"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ imageUri }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Share image"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"share.toChat"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ content }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Share to chat"})]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"biometric-biometric",children:["Biometric (",(0,i.jsx)(n.code,{children:"biometric.*"}),")"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Parameters"}),(0,i.jsx)(n.th,{children:"Returns"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"biometric.isSupported"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Check if supported"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"biometric.isEnabled"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Check if enabled"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"biometric.authenticate"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ reason }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Authenticate user"})]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"api-proxy-api",children:["API Proxy (",(0,i.jsx)(n.code,{children:"api.*"}),")"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Parameters"}),(0,i.jsx)(n.th,{children:"Returns"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"api.request"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ url, method?, headers?, body?, timeout? }"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ApiResponse"})}),(0,i.jsx)(n.td,{children:"Make API request"})]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"lifecycle-lifecycle",children:["Lifecycle (",(0,i.jsx)(n.code,{children:"lifecycle.*"}),")"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Method"}),(0,i.jsx)(n.th,{children:"Parameters"}),(0,i.jsx)(n.th,{children:"Returns"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"lifecycle.ready"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Signal mini-app is ready"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"lifecycle.suspend"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Request suspend"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"lifecycle.resume"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Request resume"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"lifecycle.destroy"})}),(0,i.jsx)(n.td,{children:"-"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.td,{children:"Request destroy"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"error-codes",children:"Error Codes"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Code"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"METHOD_NOT_FOUND"})}),(0,i.jsx)(n.td,{children:"The requested method does not exist"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"HANDLER_ERROR"})}),(0,i.jsx)(n.td,{children:"Handler threw an exception"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PERMISSION_DENIED"})}),(0,i.jsx)(n.td,{children:"Mini-app lacks required permission"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"INVALID_PARAMS"})}),(0,i.jsx)(n.td,{children:"Invalid or missing parameters"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"TIMEOUT"})}),(0,i.jsx)(n.td,{children:"Request timed out (30s default)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"NETWORK_ERROR"})}),(0,i.jsx)(n.td,{children:"Network request failed"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"AUTH_REQUIRED"})}),(0,i.jsx)(n.td,{children:"User must be authenticated"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RATE_LIMITED"})}),(0,i.jsx)(n.td,{children:"Too many requests"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Use hooks/services instead of direct bridge calls"})," - The SDK hooks and services provide better abstractions with automatic cleanup and error handling."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Handle errors gracefully"})," - Always wrap bridge calls in try/catch and handle specific error codes."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Respect timeouts"})," - Bridge requests timeout after 30 seconds. Long-running operations should use different patterns."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Clean up subscriptions"})," - Always unsubscribe from events when components unmount."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"useEffect(() => {\n  const unsubscribe = bridge.on('lifecycle.suspend', handleSuspend);\n  return () => unsubscribe();\n}, []);\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"5",children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Check permissions before sensitive operations"})," - Use ",(0,i.jsx)(n.code,{children:"auth.checkPermission"})," before accessing sensitive data."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["For more information on the higher-level APIs, see the ",(0,i.jsx)(n.a,{href:"/api/miniapp-sdk/hooks",children:"Hooks API"})," and ",(0,i.jsx)(n.a,{href:"/api/miniapp-sdk/services",children:"Services API"})," documentation."]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8145(e,n,s){s.d(n,{R:()=>t,x:()=>c});var d=s(5410);const i={},r=d.createContext(i);function t(e){const n=d.useContext(r);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),d.createElement(r.Provider,{value:n},e.children)}}}]);