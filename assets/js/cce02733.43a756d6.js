"use strict";(globalThis.webpackChunk_54vie_cookbooks=globalThis.webpackChunk_54vie_cookbooks||[]).push([[37],{50(e,n,a){a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"modules/media","title":"@54vie/media","description":"Module for managing camera, gallery, image/video processing, and media upload.","source":"@site/docs/modules/media.md","sourceDirName":"modules","slug":"/modules/media","permalink":"/modules/media","draft":false,"unlisted":false,"editUrl":"https://github.com/54vie/super-app/tree/main/cookbooks/docs/modules/media.md","tags":[],"version":"current","sidebarPosition":12,"frontMatter":{"sidebar_position":12,"title":"@54vie/media"},"sidebar":"mainSidebar","previous":{"title":"@54vie/location","permalink":"/modules/location"},"next":{"title":"Create a New Mini-App","permalink":"/guides/create-mini-app"}}');var o=a(5178),t=a(8145);const s={sidebar_position:12,title:"@54vie/media"},r="@54vie/media - Media Module",l={},c=[{value:"Installation",id:"installation",level:2},{value:"Camera",id:"camera",level:2},{value:"Gallery",id:"gallery",level:2},{value:"Image Processing",id:"image-processing",level:2},{value:"Media Upload",id:"media-upload",level:2},{value:"QR Scanner",id:"qr-scanner",level:2},{value:"Components",id:"components",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"54viemedia---media-module",children:"@54vie/media - Media Module"})}),"\n",(0,o.jsx)(n.p,{children:"Module for managing camera, gallery, image/video processing, and media upload."}),"\n",(0,o.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"pnpm add @54vie/media\n"})}),"\n",(0,o.jsx)(n.h2,{id:"camera",children:"Camera"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { useCamera, CameraService } from '@54vie/media';\n\nfunction ProfilePhoto() {\n  const {\n    capture,\n    record,\n    isRecording,\n    startRecording,\n    stopRecording,\n    switchCamera,\n    flash,\n    setFlash,\n  } = useCamera();\n\n  const takePhoto = async () => {\n    const photo = await capture({\n      quality: 'high',\n      flash: 'auto',\n    });\n    console.log(photo.uri);\n  };\n\n  const recordVideo = async () => {\n    const video = await record({\n      maxDuration: 60,\n      quality: 'high',\n    });\n    console.log(video.uri, video.duration);\n  };\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"gallery",children:"Gallery"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { useGallery } from '@54vie/media';\n\nfunction ImagePicker() {\n  const { pick, pickMultiple, getAlbums } = useGallery();\n\n  // Pick single image\n  const pickImage = async () => {\n    const image = await pick({\n      mediaType: 'photo',\n      quality: 0.8,\n    });\n  };\n\n  // Pick multiple\n  const pickImages = async () => {\n    const images = await pickMultiple({\n      mediaType: 'photo',\n      maxSelection: 5,\n    });\n  };\n\n  // Get albums\n  const albums = await getAlbums();\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"image-processing",children:"Image Processing"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { useImageEditor, ImageProcessor } from '@54vie/media';\n\nfunction AvatarEditor() {\n  const { crop, resize, compress, rotate, filter } = useImageEditor();\n\n  // Crop image\n  const cropped = await crop(imageUri, {\n    width: 300,\n    height: 300,\n    aspectRatio: 1,\n  });\n\n  // Resize\n  const resized = await resize(imageUri, {\n    width: 800,\n    height: 600,\n  });\n\n  // Compress\n  const compressed = await compress(imageUri, 0.7);\n\n  // Rotate\n  const rotated = await rotate(imageUri, 90);\n\n  // Apply filter\n  const filtered = await filter(imageUri, 'grayscale');\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"media-upload",children:"Media Upload"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { useMediaUpload } from '@54vie/media';\n\nfunction UploadPhoto() {\n  const {\n    upload,\n    uploadMultiple,\n    progress,\n    isUploading,\n    cancel,\n  } = useMediaUpload();\n\n  const handleUpload = async (asset) => {\n    const result = await upload(asset, '/api/upload/avatar');\n    if (result.success) {\n      console.log('Uploaded:', result.url);\n    }\n  };\n\n  return (\n    <View>\n      <Button onPress={() => handleUpload(photo)} disabled={isUploading}>\n        Upload\n      </Button>\n      {isUploading && (\n        <View>\n          <ProgressBar progress={progress} />\n          <Button onPress={cancel}>Cancel</Button>\n        </View>\n      )}\n    </View>\n  );\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"qr-scanner",children:"QR Scanner"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:"import { useQRScanner, QRScanner } from '@54vie/media';\n\n// Hook\nfunction QRPayment() {\n  const { scan, isScanning, lastScanned } = useQRScanner();\n\n  const handleScan = async () => {\n    const data = await scan();\n    processPayment(data);\n  };\n}\n\n// Component\nfunction ScannerScreen() {\n  return (\n    <QRScanner\n      onScan={(data) => console.log('Scanned:', data)}\n      showFrame\n      flashButton\n    />\n  );\n}\n"})}),"\n",(0,o.jsx)(n.h2,{id:"components",children:"Components"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-typescript",children:'import {\n  CameraView,\n  MediaPicker,\n  ImageCropper,\n  VideoPlayer,\n} from \'@54vie/media\';\n\n// Camera view\n<CameraView\n  type="back"\n  flash="auto"\n  onCapture={handleCapture}\n>\n  <CameraControls />\n</CameraView>\n\n// Media picker\n<MediaPicker\n  mediaType="mixed"\n  multiple\n  maxSelection={10}\n  onSelect={handleSelect}\n/>\n\n// Image cropper\n<ImageCropper\n  source={imageUri}\n  aspectRatio={1}\n  onCrop={handleCrop}\n  onCancel={handleCancel}\n/>\n\n// Video player\n<VideoPlayer\n  source={videoUri}\n  controls\n  autoPlay={false}\n  onEnd={handleEnd}\n/>\n'})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8145(e,n,a){a.d(n,{R:()=>s,x:()=>r});var i=a(5410);const o={},t=i.createContext(o);function s(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);