"use strict";(globalThis.webpackChunk_54vie_cookbooks=globalThis.webpackChunk_54vie_cookbooks||[]).push([[165],{5647(e,n,t){t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"guides/analytics-tracking","title":"Analytics Tracking","description":"Guide to implement analytics tracking in 54VIE Super App.","source":"@site/docs/guides/analytics-tracking.md","sourceDirName":"guides","slug":"/guides/analytics-tracking","permalink":"/guides/analytics-tracking","draft":false,"unlisted":false,"editUrl":"https://github.com/54vie/super-app/tree/main/cookbooks/docs/guides/analytics-tracking.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Analytics Tracking"},"sidebar":"mainSidebar","previous":{"title":"Bridge Services","permalink":"/guides/bridge-services"},"next":{"title":"Push Notifications","permalink":"/guides/push-notifications"}}');var i=t(5178),c=t(8145);const a={sidebar_position:4,title:"Analytics Tracking"},s="Analytics Tracking Guide",o={},d=[{value:"Setup",id:"setup",level:2},{value:"Host App",id:"host-app",level:3},{value:"Mini-App",id:"mini-app",level:3},{value:"Event Tracking",id:"event-tracking",level:2},{value:"Screen Views",id:"screen-views",level:3},{value:"Custom Events",id:"custom-events",level:3},{value:"Standard Events",id:"standard-events",level:3},{value:"User Identification",id:"user-identification",level:2},{value:"User Properties",id:"user-properties",level:2},{value:"Revenue Tracking",id:"revenue-tracking",level:2},{value:"Timed Events",id:"timed-events",level:2},{value:"Funnel Tracking",id:"funnel-tracking",level:2},{value:"A/B Testing",id:"ab-testing",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"1. Use consistent naming",id:"1-use-consistent-naming",level:3},{value:"2. Include relevant context",id:"2-include-relevant-context",level:3},{value:"3. Track failures too",id:"3-track-failures-too",level:3},{value:"4. Don&#39;t over-track",id:"4-dont-over-track",level:3},{value:"Debug Mode",id:"debug-mode",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"analytics-tracking-guide",children:"Analytics Tracking Guide"})}),"\n",(0,i.jsx)(n.p,{children:"Guide to implement analytics tracking in 54VIE Super App."}),"\n",(0,i.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,i.jsx)(n.h3,{id:"host-app",children:"Host App"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import { AnalyticsProvider } from '@54vie/analytics';\n\nfunction App() {\n  return (\n    <AnalyticsProvider config={{\n      appId: '54vie-host',\n      apiKey: process.env.ANALYTICS_API_KEY,\n      apiEndpoint: 'https://analytics.54vie.vn',\n      debug: __DEV__,\n    }}>\n      <MainApp />\n    </AnalyticsProvider>\n  );\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"mini-app",children:"Mini-App"}),"\n",(0,i.jsx)(n.p,{children:"Mini-apps use the SDK - events are automatically attributed to the mini-app:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { analytics } from '@54vie/miniapp-sdk';\n\nanalytics.track('event_name', { property: 'value' });\n"})}),"\n",(0,i.jsx)(n.h2,{id:"event-tracking",children:"Event Tracking"}),"\n",(0,i.jsx)(n.h3,{id:"screen-views",children:"Screen Views"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Automatic (in host with navigation integration)\n// Or manual:\nconst { screen } = useAnalytics();\n\nuseEffect(() => {\n  screen('ProductScreen', { product_id: productId });\n}, []);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"custom-events",children:"Custom Events"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const { track } = useAnalytics();\n\n// Button click\ntrack('button_clicked', {\n  button_name: 'add_to_cart',\n  screen: 'ProductDetail',\n});\n\n// Search\ntrack('search', {\n  query: 'iphone',\n  results_count: 25,\n});\n\n// Form submission\ntrack('form_submitted', {\n  form_name: 'checkout',\n  fields_count: 5,\n});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"standard-events",children:"Standard Events"}),"\n",(0,i.jsx)(n.p,{children:"Use standard event names for consistency:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { StandardEvents } from '@54vie/analytics';\n\n// Auth\ntrack(StandardEvents.LOGIN, { method: 'email' });\ntrack(StandardEvents.SIGN_UP, { method: 'google' });\ntrack(StandardEvents.LOGOUT);\n\n// E-commerce\ntrack(StandardEvents.VIEW_PRODUCT, {\n  product_id: '123',\n  product_name: 'iPhone 15',\n  price: 25000000,\n  currency: 'VND',\n  category: 'phones',\n});\n\ntrack(StandardEvents.ADD_TO_CART, {\n  product_id: '123',\n  quantity: 1,\n  price: 25000000,\n});\n\ntrack(StandardEvents.PURCHASE, {\n  order_id: 'order_456',\n  total: 25000000,\n  currency: 'VND',\n  items: [\n    { product_id: '123', quantity: 1, price: 25000000 },\n  ],\n});\n\n// Mini-app\ntrack(StandardEvents.MINI_APP_OPEN, { app_id: 'com.54vie.shopping' });\ntrack(StandardEvents.MINI_APP_CLOSE, { app_id: 'com.54vie.shopping', duration: 120000 });\n"})}),"\n",(0,i.jsx)(n.h2,{id:"user-identification",children:"User Identification"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const { identify, reset } = useAnalytics();\n\n// After login\nidentify('user_123', {\n  name: 'John Doe',\n  email: 'john@example.com',\n  phone: '+84901234567',\n  plan: 'premium',\n  created_at: '2024-01-15',\n});\n\n// After logout\nreset();\n"})}),"\n",(0,i.jsx)(n.h2,{id:"user-properties",children:"User Properties"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const { setProperty, increment } = useUserProperties();\n\n// Set property\nsetProperty('favorite_category', 'electronics');\n\n// Increment counter\nincrement('purchase_count');\nincrement('total_spent', 500000);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"revenue-tracking",children:"Revenue Tracking"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { Analytics } from '@54vie/analytics';\n\nAnalytics.trackRevenue({\n  amount: 500000,\n  currency: 'VND',\n  productId: 'premium_monthly',\n  productName: 'Premium Subscription',\n  orderId: 'order_789',\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"timed-events",children:"Timed Events"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const { startTimer, endTimer } = useAnalytics();\n\n// Start timing\nstartTimer('checkout_flow');\n\n// ... user completes checkout ...\n\n// End timing (auto-tracks with duration)\nendTimer('checkout_flow', {\n  payment_method: 'card',\n  success: true,\n});\n// Tracks: checkout_flow { duration: 45000, payment_method: 'card', success: true }\n"})}),"\n",(0,i.jsx)(n.h2,{id:"funnel-tracking",children:"Funnel Tracking"}),"\n",(0,i.jsx)(n.p,{children:"Track user journey through a funnel:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Step 1: View product\ntrack('funnel_product_viewed', { funnel: 'purchase', step: 1 });\n\n// Step 2: Add to cart\ntrack('funnel_added_to_cart', { funnel: 'purchase', step: 2 });\n\n// Step 3: Start checkout\ntrack('funnel_checkout_started', { funnel: 'purchase', step: 3 });\n\n// Step 4: Payment entered\ntrack('funnel_payment_entered', { funnel: 'purchase', step: 4 });\n\n// Step 5: Purchase completed\ntrack('funnel_purchase_completed', { funnel: 'purchase', step: 5 });\n"})}),"\n",(0,i.jsx)(n.h2,{id:"ab-testing",children:"A/B Testing"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import { useExperiment, useFeatureFlag } from '@54vie/analytics';\n\n// Experiment\nfunction CheckoutScreen() {\n  const { variant } = useExperiment('checkout_v2');\n\n  if (variant === 'new') {\n    return <NewCheckout />;\n  }\n  return <OldCheckout />;\n}\n\n// Feature flag\nfunction NewFeature() {\n  const isEnabled = useFeatureFlag('new_feature');\n\n  if (!isEnabled) return null;\n  return <FeatureComponent />;\n}\n\n// Track conversion\nconst { trackConversion } = useExperimentConversion('checkout_v2');\n\nconst handlePurchase = () => {\n  trackConversion('purchase', orderTotal);\n};\n"})}),"\n",(0,i.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"1-use-consistent-naming",children:"1. Use consistent naming"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Good - snake_case, action_object pattern\ntrack('button_clicked', { button_name: 'checkout' });\ntrack('product_viewed', { product_id: '123' });\n\n// \u274c Bad - inconsistent\ntrack('ButtonClick', {});\ntrack('viewedProduct', {});\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2-include-relevant-context",children:"2. Include relevant context"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Good - include context\ntrack('product_viewed', {\n  product_id: '123',\n  product_name: 'iPhone 15',\n  price: 25000000,\n  category: 'phones',\n  source: 'search',\n  position: 3,\n});\n\n// \u274c Bad - missing context\ntrack('product_viewed', { id: '123' });\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-track-failures-too",children:"3. Track failures too"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Good - track both success and failure\ntrack('payment_success', { order_id, amount });\ntrack('payment_failed', { order_id, error_code, error_message });\n\n// \u274c Bad - only tracking success\ntrack('payment_completed', { order_id });\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4-dont-over-track",children:"4. Don't over-track"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// \u274c Bad - too granular\ntrack('input_focused');\ntrack('input_char_typed');\ntrack('input_blurred');\n\n// \u2705 Good - meaningful events\ntrack('form_field_completed', { field: 'email' });\n"})}),"\n",(0,i.jsx)(n.h2,{id:"debug-mode",children:"Debug Mode"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Enable in development\n<AnalyticsProvider config={{ debug: __DEV__ }}>\n\n// Events logged to console:\n// [Analytics] Queued: track:button_clicked\n// [Analytics] Flushed 5 events\n\n// Force flush\nconst { flush } = useAnalytics();\nawait flush();\n"})})]})}function u(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8145(e,n,t){t.d(n,{R:()=>a,x:()=>s});var r=t(5410);const i={},c=r.createContext(i);function a(e){const n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);